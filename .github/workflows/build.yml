name: Test Python 3.13t on Windows 11 ARM

on:
  workflow_dispatch:
  push:

jobs:
  test-python-313t:
    runs-on: windows-11-arm

    steps:
      - uses: actions/checkout@v5

      - name: Set up Python 3.13t
        uses: actions/setup-python@v6
        with:
          python-version: '3.13t'
          architecture: 'arm64'

      - name: Show Python version (python)
        run: |
          python -V

      - name: Show Python architecture (python)
        run: |
          python - <<EOF
          import platform, sys
          print("Version:", sys.version)
          print("Machine:", platform.machine())
          print("Executable:", sys.executable)
          EOF

      - name: List Python versions via py launcher
        shell: cmd
        run: |
          py -0p

      - name: Verify Python 3.13t via py launcher
        shell: cmd
        run: |
          py -3.13t -V
          py -3.13t -c "import platform, sys; print(platform.machine(), sys.executable)"
